# Architecture Diagram

```
???????????????????????????????????????????????????????????????
?                    Presentation Layer                       ?
?  ???????????????????????????????????????????????????????   ?
?  ?              ApplicationBootstrapper                ?   ?
?  ?          (Dependency Injection & Startup)          ?   ?
?  ???????????????????????????????????????????????????????   ?
???????????????????????????????????????????????????????????????
                              ?
                              ?
???????????????????????????????????????????????????????????????
?                   Application Layer                         ?
?  ???????????????????????????  ????????????????????????????????
?  ?  KeyboardLayoutService  ?  ? SwitchKeyboardLayoutUseCase ??
?  ?  (Coordination)         ?  ?    (Business Use Case)     ??
?  ???????????????????????????  ????????????????????????????????
???????????????????????????????????????????????????????????????
                              ?
                              ?
???????????????????????????????????????????????????????????????
?                     Domain Layer                            ?
?  ???????????????????  ???????????????????  ???????????????? ?
?  ?  KeyboardLayout ?  ? SwitchingAlgo   ?  ?  Interfaces  ? ?
?  ?    (Entity)     ?  ?    (Enum)       ?  ? (Contracts)  ? ?
?  ???????????????????  ???????????????????  ???????????????? ?
?  ???????????????????????????????????????????????????????   ?
?  ?           Layout Switching Strategies               ?   ?
?  ?     ToggleLayoutStrategy | CycleLayoutStrategy      ?   ?
?  ???????????????????????????????????????????????????????   ?
???????????????????????????????????????????????????????????????
                              ?
                              ?
???????????????????????????????????????????????????????????????
?                 Infrastructure Layer                        ?
?  ???????????????????????????  ????????????????????????????????
?  ? WindowsKeyboardLayout   ?  ?    WindowsHotkeyService     ??
?  ?      Repository         ?  ?  (Windows API Hotkeys)     ??
?  ?   (Windows API)         ?  ????????????????????????????????
?  ???????????????????????????                               ?
?  ???????????????????????????????????????????????????????   ?
?  ?         SystemTrayNotificationService              ?   ?
?  ?           (System Tray Integration)                ?   ?
?  ???????????????????????????????????????????????????????   ?
???????????????????????????????????????????????????????????????
```

## Key Architectural Principles Applied

1. **Dependency Inversion**: All dependencies point toward the Domain layer
2. **Single Responsibility**: Each class has one reason to change
3. **Open/Closed**: Open for extension, closed for modification
4. **Interface Segregation**: Small, focused interfaces
5. **Separation of Concerns**: Clear boundaries between layers